<?php
include('header.inc.php');
/*$db=@mysql_connect($GLOBALS['params']['bdd']['db_host'],$GLOBALS['params']['bdd']['db_user'],$GLOBALS['params']['bdd']['db_pass']);
@mysql_select_db($GLOBALS['params']['bdd']['db_name'],$db);
@mysql_query("SET NAMES 'utf8'");*/
$arrExtraParam= array(PDO::MYSQL_ATTR_INIT_COMMAND => "SET NAMES utf8");
$connexion = new PDO('mysql:host='.$GLOBALS['params']['bdd']['db_host'].';port='.$GLOBALS['params']['bdd']['db_port'].';dbname='.$GLOBALS['params']['bdd']['db_name'], $GLOBALS['params']['bdd']['db_user'], $GLOBALS['params']['bdd']['db_pass'],$arrExtraParam);
//1 seul résultats
$query = 'SELECT login FROM user WHERE id=14;';
$arr = $connexion->query($query)->fetch(PDO::FETCH_OBJ); //Sur une même ligne ...
echo 'Utilisateur : '.$arr->login.'<br />';
// plusieurs resultats
$query = 'SELECT login FROM user';
$arr = $connexion->query($query);
while ($enr=$arr->fetch(PDO::FETCH_OBJ)){ //Sur une même ligne ...
echo 'Utilisateur : '.$arr->login.'<br />';
}
?>